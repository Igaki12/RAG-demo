# Webアプリケーション仕様書

このファイルには、Webアプリケーションの仕様が詳細に記述されています。具体的には、各ボタンの動作やユーザーインターフェースの要素について説明します。

## 画面遷移・表示フロー

1. **初期表示**
   - 背景にネットワーク描画領域が全画面で表示される。
   - 左上のHUDカードにはアプリ名とファイルアップロードエリアのみが表示される。
   - 左下の詳細カード、日付操作エリア、モーダル関連要素は非表示。

2. **ファイルアップロード後**
   - JSONLファイルの解析が完了すると、利用可能な日付のリストを作成。
   - 日付が1件以上存在する場合、左上のHUDカードに日付選択エリアが表示される。
   - 同時に、日付制御ボタン（前の日・次の日）と現在日付表示が有効化される。
   - ネットワーク図がアップロードされたデータにもとづいて描画される。

3. **日付切り替え時**
   - 現在表示されている日付に合わせてネットワーク図が再描画される。
   - 前後に日付が存在しない場合は、該当する日付ナビゲーションボタンが無効化される。

4. **ノード選択時**
   - 左下の詳細カードが表示され、選択したノードに関連する情報がリスト形式で表示される。
   - ノードに関連する記事が存在する場合、記事詳細モーダルを開くアクションが有効になる。

5. **記事詳細モーダル表示時**
   - 背景に半透明のバックドロップが表示され、モーダルが中央に浮き出る。
   - モーダル内では記事の見出し・本文が表示され、理解度テスト開始ボタンや他の記事を開くボタンが利用可能。
   - モーダルを閉じると、バックドロップとともにモーダル要素が非表示になる。

6. **理解度テスト進行中**
   - モーダル内部で記事本文の表示状態を切り替えられるトグルボタンが有効化される。
   - 質問と回答表示、フィードバックボタン、テスト結果表示が順番に切り替わる。

## ボタンおよび動作

- **ファイルアップロードボタン**
  - **動作**: ユーザーがJSONLファイルを選択すると、そのファイルが読み込まれ、アプリケーションがデータを解析します。データが有効であれば、日付選択エリアが表示されます。

- **前の日ボタン**
  - **動作**: 現在表示されている日付の前の日付を表示します。最初の日付の場合は無効になります。

- **次の日ボタン**
  - **動作**: 現在表示されている日付の次の日付を表示します。最新の日付の場合は無効になります。

- **ノードクリック**
  - **動作**: ユーザーがネットワーク内のノードをクリックすると、そのノードに関連する詳細情報が表示されます。関連するニュース記事があれば、その記事の詳細も表示されます。

- **記事詳細モーダル**
  - **動作**: 記事の詳細が表示され、ユーザーは他の記事を読むか、理解度テストを開始することができます。

- **理解度テスト開始ボタン**
  - **動作**: 記事に関連する質問が表示され、ユーザーはその質問に答えることができます。

- **解答確認ボタン**
  - **動作**: ユーザーが質問の解答を確認できるようにします。

- **理解度テストの結果表示**
  - **動作**: テストの結果に応じて、成功または失敗のメッセージが表示されます。